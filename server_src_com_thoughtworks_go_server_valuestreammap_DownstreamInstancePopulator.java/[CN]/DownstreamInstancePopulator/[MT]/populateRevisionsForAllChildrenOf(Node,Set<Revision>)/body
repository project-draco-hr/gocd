{
  for (  Revision revision : node.revisions()) {
    if (visitedRevisions.contains(revision)) {
      continue;
    }
    visitedRevisions.add(revision);
    for (    Node child : node.getChildren()) {
      List<PipelineIdentifier> pipelineIdentifiers=pipelineDao.getPipelineInstancesTriggeredWithDependencyMaterial(child.getName(),((PipelineRevision)revision).getPipelineIdentifier());
      for (      PipelineIdentifier pipelineIdentifier : pipelineIdentifiers) {
        child.addRevision(new PipelineRevision(pipelineIdentifier));
      }
      populateRevisionsForAllChildrenOf(child,visitedRevisions);
    }
  }
}

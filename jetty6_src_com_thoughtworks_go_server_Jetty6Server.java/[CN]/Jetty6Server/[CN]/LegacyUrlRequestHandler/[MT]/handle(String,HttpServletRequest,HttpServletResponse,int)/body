{
  if (target.startsWith(GoConstants.OLD_URL_CONTEXT + "/") || target.equals(GoConstants.OLD_URL_CONTEXT)) {
    if (shouldRedirect(request)) {
      response.setHeader("Location",target.replaceFirst(GoConstants.OLD_URL_CONTEXT,GoConstants.GO_URL_CONTEXT));
      response.setStatus(HttpStatus.ORDINAL_301_Moved_Permanently);
    }
 else {
      response.setStatus(HttpStatus.ORDINAL_404_Not_Found);
    }
    response.setHeader("Content-Type","text/plain");
    PrintWriter writer=response.getWriter();
    writer.write(String.format("Url(s) starting in '%s' have been permanently moved to '%s', please use the new path.",GoConstants.OLD_URL_CONTEXT,GoConstants.GO_URL_CONTEXT));
    writer.close();
  }
}

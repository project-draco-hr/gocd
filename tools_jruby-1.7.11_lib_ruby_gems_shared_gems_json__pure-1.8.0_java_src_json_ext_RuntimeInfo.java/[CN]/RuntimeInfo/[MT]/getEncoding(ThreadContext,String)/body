{
synchronized (encodings) {
    WeakReference<RubyEncoding> encoding=encodings.get(name);
    if (encoding == null) {
      Ruby runtime=context.getRuntime();
      encoding=new WeakReference<RubyEncoding>((RubyEncoding)RubyEncoding.find(context,runtime.getEncoding(),runtime.newString(name)));
      encodings.put(name,encoding);
    }
    return encoding.get();
  }
}

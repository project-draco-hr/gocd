{
  groupName=BasicPipelineConfigs.DEFAULT_GROUP;
  configHelper.addPipeline("pipeline","stage","build1","build2");
  String md5=goConfigFileDao.md5OfConfigFile();
  ModelAndView mav=controller.postPipelineAsXmlPartial(4,groupName,NEW_PIPELINE,md5,response);
  assertThat(response.getStatus(),is(SC_NOT_FOUND));
  assertThat(response.getContentType(),is(RESPONSE_CHARSET));
  Json json=(Json)mav.getModel().get("json");
  JsonMap jsonMap=new JsonMap();
  jsonMap.put("result","Pipeline does not exist.");
  jsonMap.put("originalContent",NEW_PIPELINE);
  assertThat(json,is((Json)jsonMap));
}

{
  configHelper.addPipeline("pipeline","dev","linux","windows");
  groupName=PipelineConfigs.DEFAULT_GROUP;
  controller.getPipelineAsXmlPartial(0,groupName,null,response);
  String xml=response.getContentAsString();
  assertThat(xml,containsString("pass"));
  MockHttpServletResponse postResponse=new MockHttpServletResponse();
  String modifiedXml=xml.replace("pass","secret");
  controller.postPipelineAsXmlPartial(0,groupName,modifiedXml,goConfigFileDao.md5OfConfigFile(),postResponse);
  MockHttpServletResponse getResponse=new MockHttpServletResponse();
  controller.getPipelineAsXmlPartial(0,groupName,null,getResponse);
  assertThat(getResponse.getContentAsString(),containsString("secret"));
  assertThat(getResponse.getContentAsString(),is(modifiedXml));
}

{
  CRJob_1 crJob_1=new CRJob_1("build",new CRFetchArtifactTask_1("build","buildjob","bin"),CRBuildTask_1.nant("build.xml","build","src/tasks","path"));
  crJob_1.addEnvironmentVariable("key1","value1");
  crJob_1.addResource("linux");
  crJob_1.addTab(new CRTab_1("test","results.xml"));
  crJob_1.addProperty(new CRPropertyGenerator_1("perf","test.xml","substring-before(//report/data/all/coverage[starts-with(@type,'class')]/@value, '%')"));
  crJob_1.setRunOnAllAgents(true);
  crJob_1.setRunInstanceCount(5);
  crJob_1.setTimeout(100);
  CRJob result=migration.migrate(crJob_1);
  assertThat(result instanceof CRJob,is(true));
  assertThat(result.getTasks().size(),is(2));
  assertThat(result.getEnvironmentVariable("key1").getValue(),is("value1"));
  assertThat(result.getResources(),hasItem("linux"));
  assertThat(result.getTab("test").getPath(),is("results.xml"));
  assertThat(result.getPropertyGenerator("perf").getSrc(),is("test.xml"));
  assertThat(result.isRunOnAllAgents(),is(true));
  assertThat(result.getRunInstanceCount(),is(5));
  assertThat(result.getTimeout(),is(100));
}

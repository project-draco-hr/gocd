{
  NotificationPluginRegistrar notificationPluginRegistrar=new NotificationPluginRegistrar(pluginManager,notificationExtension);
  notificationPluginRegistrar.pluginLoaded(new GoPluginDescriptor(PLUGIN_ID_1,null,null,null,null,true));
  notificationPluginRegistrar.pluginLoaded(new GoPluginDescriptor(PLUGIN_ID_2,null,null,null,null,true));
  notificationPluginRegistrar.pluginLoaded(new GoPluginDescriptor(PLUGIN_ID_3,null,null,null,null,true));
  notificationPluginRegistrar.pluginLoaded(new GoPluginDescriptor(PLUGIN_ID_4,null,null,null,null,true));
  notificationPluginRegistrar.pluginUnLoaded(new GoPluginDescriptor(PLUGIN_ID_1,null,null,null,null,true));
  assertThat(NotificationPluginRegistry.getInstance().getPluginsInterestedIn(PIPELINE_STATUS),containsInAnyOrder(PLUGIN_ID_2));
  assertThat(NotificationPluginRegistry.getInstance().getPluginsInterestedIn(STAGE_STATUS),containsInAnyOrder(PLUGIN_ID_3));
  assertThat(NotificationPluginRegistry.getInstance().getPluginsInterestedIn(JOB_STATUS),containsInAnyOrder());
  assertThat(NotificationPluginRegistry.getInstance().getPluginsInterestedIn(UNKNOWN_NOTIFICATION),containsInAnyOrder());
  assertThat(NotificationPluginRegistry.getInstance().getPluginInterests(PLUGIN_ID_4),containsInAnyOrder());
}

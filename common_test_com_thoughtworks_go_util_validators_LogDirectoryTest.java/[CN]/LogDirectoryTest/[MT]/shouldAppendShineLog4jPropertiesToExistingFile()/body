{
  String dir=existingLogFolder.getAbsolutePath();
  LogDirectory logDirectory=new LogDirectory(dir);
  logDirectory.update(log4jPropertiesFile,new Validation());
  String upgradedFile=readFileToString(log4jPropertiesFile);
  assertThat(upgradedFile,containsString("log4j.logger.com.thoughtworks.studios.shine=WARN,ShineFileAppender\n" + "# Rolling log file output for shine...\n" + "log4j.appender.ShineFileAppender=org.apache.log4j.RollingFileAppender\n"+ "log4j.appender.ShineFileAppender.File=" + dir + "/go-shine.log\n"+ "log4j.appender.ShineFileAppender.MaxFileSize=10240KB\n"+ "log4j.appender.ShineFileAppender.MaxBackupIndex=50\n"+ "log4j.appender.ShineFileAppender.layout=org.apache.log4j.PatternLayout\n"+ "log4j.appender.ShineFileAppender.layout.conversionPattern=%d{ISO8601} %5p [%t] %c{1}:%L - %m%n"));
  assertThat(upgradedFile,not(containsString("#upgrade_check")));
}

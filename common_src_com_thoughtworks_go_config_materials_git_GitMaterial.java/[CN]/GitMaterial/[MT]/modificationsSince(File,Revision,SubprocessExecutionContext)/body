{
  GitCommand gitCommand=getGit(baseDir,DEFAULT_SHALLOW_CLONE_DEPTH,execCtx);
  unshallowIfNeeded(gitCommand,ProcessOutputStreamConsumer.inMemoryConsumer(),revision,baseDir);
  if (gitCommand.containsRevisionInBranch(revision)) {
    return gitCommand.modificationsSince(revision);
  }
 else {
    return latestModification(baseDir,execCtx);
  }
}

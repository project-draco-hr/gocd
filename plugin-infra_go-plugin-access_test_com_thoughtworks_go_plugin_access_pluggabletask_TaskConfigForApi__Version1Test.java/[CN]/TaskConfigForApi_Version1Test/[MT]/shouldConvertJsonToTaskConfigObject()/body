{
  final TaskConfig taskConfig=new TaskConfig();
  final TaskConfigProperty p1=new TaskConfigProperty("k1","value1");
  p1.with(Property.DISPLAY_ORDER,10);
  p1.with(Property.SECURE,true);
  p1.with(Property.DISPLAY_NAME,"display name for k1");
  p1.with(Property.REQUIRED,true);
  final TaskConfigProperty p2=new TaskConfigProperty("k2","value1");
  p2.with(Property.DISPLAY_ORDER,1);
  p2.with(Property.SECURE,false);
  p2.with(Property.DISPLAY_NAME,"display name for k2");
  p2.with(Property.REQUIRED,true);
  p2.with(Property.REQUIRED,true);
  taskConfig.add(p1);
  taskConfig.add(p2);
  final String json=new TaskConfigForApi_Version1().toJson(taskConfig);
  assertThat(json,is("[{\"display-name\":\"display name for k1\",\"secure\":true,\"value\":\"value1\",\"display-order\":10,\"required\":true,\"key\":\"k1\"},{\"display-name\":\"display name for k2\",\"secure\":false,\"value\":\"value1\",\"display-order\":1,\"required\":true,\"key\":\"k2\"}]"));
}

{
  Collection<PipelineJsonPresentationModel> pipelines;
  if (StringUtils.isBlank(pipelineName)) {
    pipelines=allPipelines(username);
  }
 else {
    pipelines=onePipeline(username,pipelineName);
    if (pipelines.isEmpty()) {
      throw new PipelineNotFoundException("Failed to find the pipeline " + pipelineName);
    }
  }
  addDynamicPipelineStatusTo(pipelines,username);
  return pipelines;
}

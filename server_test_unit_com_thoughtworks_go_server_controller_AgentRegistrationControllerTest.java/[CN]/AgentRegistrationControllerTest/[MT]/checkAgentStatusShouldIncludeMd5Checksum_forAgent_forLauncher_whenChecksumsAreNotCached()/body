{
  ReflectionUtil.setField(controller,AGENT_CHECKSUM_FIELD,null);
  ReflectionUtil.setField(controller,AGENT_LAUNCHER_CHECKSUM_FIELD,null);
  controller.checkAgentStatus(request,response);
  assertEquals(EXPECTED_MD5,response.getHeader(SystemEnvironment.AGENT_CONTENT_MD5_HEADER));
  assertEquals(EXPECTED_LAUNCHER_MD5,response.getHeader(SystemEnvironment.AGENT_LAUNCHER_CONTENT_MD5_HEADER));
  assertEquals("8443",response.getHeader("Cruise-Server-Ssl-Port"));
}

{
  SSLSessionContext sessionContext=sslContextWithKeyStore.getClientSessionContext();
  @SuppressWarnings("unchecked") Enumeration<byte[]> sessionIds=sessionContext.getIds();
  if (sessionIds.hasMoreElements()) {
    byte[] sessionId=sessionIds.nextElement();
    Certificate[] localCertificates=sessionContext.getSession(sessionId).getLocalCertificates();
    return localCertificates == null || localCertificates.length > 0;
  }
 else {
    return true;
  }
}

{
  logger.info("Received request to stop jetty.  Request is from:" + request.getRemoteHost());
  if (!SystemUtil.isLocalIpAddress(request.getRemoteAddr())) {
    logger.info("Rejecting request to shutdown Jetty from " + request.getRemoteHost());
    return;
  }
  try {
    Thread thread=new Thread(){
      public void run(){
        waitOneSecondForJettyToReturnAProperReturnCodeToHttpclient();
        try {
          logger.info("stopping Jetty...");
          jettyServer.stop();
        }
 catch (        Exception e) {
          e.printStackTrace();
          logger.info("cannot stop Jetty",e);
        }
      }
    }
;
    thread.start();
  }
 catch (  Exception e) {
    e.printStackTrace();
    logger.debug("error servicing request",e);
  }
}

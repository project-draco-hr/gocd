{
  List<EnvironmentPipelineModel> pipelines=new ArrayList<EnvironmentPipelineModel>();
  for (  EnvironmentPipelineConfig pipelineConfig : environment.getRemotePipelines()) {
    String pipelineName=CaseInsensitiveString.str(pipelineConfig.getName());
    if (securityService.hasViewPermissionForPipeline(user,pipelineName)) {
      if (environment != null) {
        pipelines.add(new EnvironmentPipelineModel(pipelineName,CaseInsensitiveString.str(environment.name())));
      }
 else {
        pipelines.add(new EnvironmentPipelineModel(pipelineName));
      }
    }
  }
  Collections.sort(pipelines);
  return pipelines;
}

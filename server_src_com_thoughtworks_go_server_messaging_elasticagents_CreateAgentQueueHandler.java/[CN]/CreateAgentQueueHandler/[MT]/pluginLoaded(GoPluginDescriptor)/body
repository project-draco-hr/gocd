{
  if (elasticAgentExtension.canHandlePlugin(pluginDescriptor.id())) {
    GoMessageQueue<CreateAgentMessage> queue=new GoMessageQueue<>(messaging,QUEUE_NAME_PREFIX + pluginDescriptor.id());
    JMSMessageListenerAdapter listener=queue.addListener(new CreateAgentListener(elasticAgentPluginRegistry));
    if (!listeners.containsKey(pluginDescriptor.id())) {
      this.listeners.put(pluginDescriptor.id(),new ArrayList<JMSMessageListenerAdapter>());
    }
    this.listeners.get(pluginDescriptor.id()).add(listener);
    this.queues.put(pluginDescriptor.id(),queue);
  }
}

{
  when(systemEnvironment.get(SystemEnvironment.GO_SSL_CONFIG_FILE_PATH)).thenReturn(defaultSSLConfig);
  when(systemEnvironment.get(SystemEnvironment.USER_CONFIGURED_SSL_CONFIG_FILE_PATH)).thenReturn(overrideFile.getAbsolutePath());
  NewImprovedSSLConfig userOverriddenConfig=new NewImprovedSSLConfig(systemEnvironment);
  assertThat(userOverriddenConfig.getProtocolsToBeExcluded().length,is(1));
  assertThat(userOverriddenConfig.getProtocolsToBeExcluded()[0],is("WEAK_PROTOCOL"));
}

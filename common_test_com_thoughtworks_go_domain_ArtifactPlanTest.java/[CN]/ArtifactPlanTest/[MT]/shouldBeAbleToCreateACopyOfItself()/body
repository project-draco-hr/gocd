{
  ArtifactPlan existingPlan=new ArtifactPlan(ArtifactType.file,"src1","dest1");
  existingPlan.setId(2);
  existingPlan.setBuildId(10);
  existingPlan.addError("abc","def");
  ArtifactPlan newPlan=new ArtifactPlan(existingPlan);
  String reason="\nExpected: " + reflectionToString(existingPlan) + "\n but was: "+ reflectionToString(newPlan);
  assertThat(reason,existingPlan,equalTo(newPlan));
  assertThat(reason,EqualsBuilder.reflectionEquals(existingPlan,newPlan),is(true));
  assertThat(reason,EqualsBuilder.reflectionEquals(new Cloner().deepClone(existingPlan),newPlan),is(true));
}

{
  LOGGER.debug("[Config Save] Configuration being saved");
  Map<String,String> data;
  GoConfigValidity configValidity=saveConfigFile(configFileContent,expectedMd5,shouldMigrate);
  data=new HashMap<>();
  if (configValidity.isValid()) {
    Localizable savedSuccessMessage=LocalizedMessage.string("SAVED_CONFIGURATION_SUCCESSFULLY");
    Localizable localizableMessage=configValidity.wasMerged() ? LocalizedMessage.composite(savedSuccessMessage,LocalizedMessage.string("CONFIG_MERGED")) : savedSuccessMessage;
    data.put(GoConstants.SUCCESS_MESSAGE,localizableMessage.localize(localizer));
  }
 else {
    data.put(GoConstants.ERROR_FOR_PAGE,configValidity.errorMessage());
    data.put("editing_md5",expectedMd5);
    data.put("editing_content",configFileContent);
  }
  data.putAll(adminModel(request));
  LOGGER.debug("[Config Save] Done saving configuration");
  return new ModelAndView("",data);
}

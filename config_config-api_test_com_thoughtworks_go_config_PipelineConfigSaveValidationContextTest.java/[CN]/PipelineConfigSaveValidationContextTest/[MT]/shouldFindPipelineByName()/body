{
  BasicCruiseConfig cruiseConfig=GoConfigMother.configWithPipelines("p1");
  PipelineConfigurationCache.getInstance().onConfigChange(cruiseConfig);
  PipelineConfigSaveValidationContext context=PipelineConfigSaveValidationContext.forChain(true,"group",new PipelineConfig(new CaseInsensitiveString("p2"),new MaterialConfigs()));
  assertThat(context.getPipelineConfigByName(new CaseInsensitiveString("p1")),is(cruiseConfig.allPipelines().get(0)));
  assertThat(context.getPipelineConfigByName(new CaseInsensitiveString("does_not_exist")),is(nullValue()));
}

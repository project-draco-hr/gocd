{
  CaseInsensitiveString upstreamPipelineName=this.getPipelineName();
  CaseInsensitiveString upstreamStageName=this.getStageName();
  CruiseConfig cruiseConfig=validationContext.getCruiseConfig();
  if (!cruiseConfig.hasPipelineNamed(upstreamPipelineName)) {
    errors.add(PIPELINE_STAGE_NAME,String.format("Pipeline with name '%s' does not exist",upstreamPipelineName));
  }
  if (!cruiseConfig.hasStageConfigNamed(upstreamPipelineName,upstreamStageName,true)) {
    errors.add(PIPELINE_STAGE_NAME,String.format("Stage with name '%s' does not exist on pipeline '%s'",upstreamStageName,upstreamPipelineName));
  }
}

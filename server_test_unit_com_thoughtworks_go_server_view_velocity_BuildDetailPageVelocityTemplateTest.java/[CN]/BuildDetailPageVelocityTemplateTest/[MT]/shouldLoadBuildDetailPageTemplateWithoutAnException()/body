{
  HashMap<String,Object> data=new HashMap<String,Object>();
  TestVelocityView view=new TestVelocityView(TEMPLATE_PATH,data);
  view.setupAdditionalRealTemplate("shared/_header.vm");
  view.setupAdditionalRealTemplate("shared/_footer.vm");
  view.setupAdditionalRealTemplate("shared/_page_intro_top.vm");
  view.setupAdditionalRealTemplate("shared/_page_intro_bottom.vm");
  view.setupAdditionalRealTemplate("shared/_flash_message.vm");
  view.setupAdditionalRealTemplate("shared/_artifacts.vm");
  view.setupAdditionalRealTemplate("shared/_artifact_entry.vm");
  view.setupAdditionalRealTemplate("shared/_package_material_revision_comment.vm");
  view.setupAdditionalRealTemplate("shared/_job_details_breadcrumbs.vm");
  view.setupAdditionalRealTemplate("sidebar/_sidebar_build_list.vm");
  view.setupAdditionalRealTemplate("build_detail/_buildoutput.vm");
  view.setupAdditionalRealTemplate("build_detail/_build_output_raw.vm");
  view.setupAdditionalRealTemplate("build_detail/_tests.vm");
  view.setupAdditionalRealTemplate("build_detail/_test_output_config.vm");
  view.setupAdditionalRealTemplate("build_detail/_failures.vm");
  view.setupAdditionalRealTemplate("build_detail/_artifacts.vm");
  view.setupAdditionalRealTemplate("build_detail/_materials.vm");
  view.setupAdditionalRealTemplate("build_detail/_properties.vm");
  view.setupAdditionalRealTemplate("build_detail/_material_revisions_jstemplate.vm");
  view.setupAdditionalRealTemplate("build_detail/_build_detail_summary_jstemplate.vm");
  view.setupAdditionalFakeTemplate("admin/admin_version.txt.vm","some-version");
  Document actualDoc=Jsoup.parse(view.render());
  assertThat(actualDoc.select("#footer li.last").first().html(),containsString("some-version"));
}

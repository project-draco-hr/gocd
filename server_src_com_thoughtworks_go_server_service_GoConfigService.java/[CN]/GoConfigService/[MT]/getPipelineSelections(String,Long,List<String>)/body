{
  PipelineSelections pipelineSelections=isSecurityEnabled() ? pipelineRepository.findPipelineSelectionsByUserId(userId) : pipelineRepository.findPipelineSelectionsById(id);
  if (pipelineSelections == null) {
    return new PipelineSelections(unselectedPipelines,clock.currentTime(),userId);
  }
  pipelineSelections.update(unselectedPipelines,clock.currentTime(),userId);
  return pipelineSelections;
}

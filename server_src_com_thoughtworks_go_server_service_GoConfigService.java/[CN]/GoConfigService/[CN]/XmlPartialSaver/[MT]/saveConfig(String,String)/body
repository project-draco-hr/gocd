{
  LOGGER.debug("[Config Save] Started saving XML");
  MagicalGoConfigXmlLoader configXmlLoader=new MagicalGoConfigXmlLoader(configCache,registry);
  final CruiseConfig config=configXmlLoader.loadConfigHolder(xmlString).configForEdit;
  LOGGER.debug("[Config Save] Updating config");
  ConfigSaveState configSaveState=goConfigDao.updateConfig(new NoOverwriteUpdateConfigCommand(){
    public CruiseConfig update(    CruiseConfig cruiseConfig) throws Exception {
      return config;
    }
    public String unmodifiedMd5(){
      return md5;
    }
  }
);
  LOGGER.debug("[Config Save] Finished saving XML");
  return configSaveState;
}

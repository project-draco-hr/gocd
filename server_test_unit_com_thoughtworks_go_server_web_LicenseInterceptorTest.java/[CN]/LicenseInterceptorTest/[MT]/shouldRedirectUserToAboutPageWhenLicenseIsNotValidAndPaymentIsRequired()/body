{
  assumeShouldNotIgnore();
  assumeLicenseIsInvalid();
  context.checking(new Expectations(){
{
      one(paymentResolver).shouldPay(mockHttpServletRequest);
      will(returnValue(true));
    }
  }
);
  boolean returnCode=licenseInterceptor.preHandle(mockHttpServletRequest,mockHttpServletResponse,null);
  assertThat(returnCode,is(false));
  assertThat(mockHttpServletResponse.getStatus(),is(HttpServletResponse.SC_PAYMENT_REQUIRED));
}

{
  runtime.getLoadService().require("json/common");
  RuntimeInfo info=RuntimeInfo.initRuntime(runtime);
  info.jsonModule=new WeakReference<RubyModule>(runtime.defineModule("JSON"));
  RubyModule jsonExtModule=info.jsonModule.get().defineModuleUnder("Ext");
  RubyModule generatorModule=jsonExtModule.defineModuleUnder("Generator");
  RubyClass stateClass=generatorModule.defineClassUnder("State",runtime.getObject(),GeneratorState.ALLOCATOR);
  stateClass.defineAnnotatedMethods(GeneratorState.class);
  info.generatorStateClass=new WeakReference<RubyClass>(stateClass);
  RubyModule generatorMethods=generatorModule.defineModuleUnder("GeneratorMethods");
  GeneratorMethods.populate(info,generatorMethods);
  return true;
}

{
  timeProvider=mock(TimeProvider.class);
  date=new Date();
  when(timeProvider.currentTime()).thenReturn(date);
}

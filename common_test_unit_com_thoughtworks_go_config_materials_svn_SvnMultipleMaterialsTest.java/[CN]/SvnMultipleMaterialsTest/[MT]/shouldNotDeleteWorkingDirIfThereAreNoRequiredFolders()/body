{
  SvnMaterial part=repo.createMaterial("multiple-materials/trunk/part1",null);
  Materials materials=new Materials(part);
  Revision revision=latestRevision(part,pipelineDir,new TestSubprocessExecutionContext());
  materials.updateTo(revision,pipelineDir,inMemoryConsumer(),new TestSubprocessExecutionContext());
  File shouldNotCleanUp=new File(pipelineDir,"shouldNotDelete");
  shouldNotCleanUp.createNewFile();
  assertThat(shouldNotCleanUp.exists(),is(true));
  materials.updateTo(revision,pipelineDir,inMemoryConsumer(),new TestSubprocessExecutionContext());
  assertThat("should not clean up working dir for this pipeline if none of the materials specified a sub folder",shouldNotCleanUp.exists(),is(true));
}

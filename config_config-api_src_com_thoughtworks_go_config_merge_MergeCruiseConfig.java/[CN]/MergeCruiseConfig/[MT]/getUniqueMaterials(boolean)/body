{
  Set<MaterialConfig> materialConfigs=new HashSet<MaterialConfig>();
  Set<Map> uniqueMaterials=new HashSet<Map>();
  for (  PipelineConfig pipelineConfig : this.getAllPipelineConfigs()) {
    for (    MaterialConfig materialConfig : pipelineConfig.materialConfigs()) {
      if (!uniqueMaterials.contains(materialConfig.getSqlCriteria())) {
        boolean shouldSkipPolling=!materialConfig.isAutoUpdate();
        boolean scmOrPackageMaterial=!(materialConfig instanceof DependencyMaterialConfig);
        if (ignoreManualPipelines && scmOrPackageMaterial && shouldSkipPolling) {
          continue;
        }
        materialConfigs.add(materialConfig);
        uniqueMaterials.add(materialConfig.getSqlCriteria());
      }
    }
  }
  return materialConfigs;
}

{
  if (!pluginManager.isPluginOfType(EXTENSION_NAME,pluginId)) {
    throw new RuntimeException(format("Did not find package repository plugin with id %s. Looks like plugin is missing",pluginId));
  }
  try {
    String resolvedExtensionVersion=pluginManager.resolveExtensionVersion(pluginId,goSupportedVersions);
    DefaultGoPluginApiRequest apiRequest=new DefaultGoPluginApiRequest(EXTENSION_NAME,resolvedExtensionVersion,requestName);
    apiRequest.setRequestBody(pluginInteractionCallback.requestBody(resolvedExtensionVersion));
    GoPluginApiResponse response=pluginManager.submitTo(pluginId,apiRequest);
    if (DefaultGoApiResponse.SUCCESS_RESPONSE_CODE == response.responseCode()) {
      return pluginInteractionCallback.onSuccess(response.responseBody(),resolvedExtensionVersion);
    }
    throw new RuntimeException(format("Unsuccessful response code from plugin %s with response body [%s]",response.responseCode(),response.responseBody()));
  }
 catch (  Exception e) {
    throw new RuntimeException(format("Exception while interacting with plugin id %s, extension %s, request %s. Reason, %s",pluginId,EXTENSION_NAME,requestName,e.getMessage()),e);
  }
}

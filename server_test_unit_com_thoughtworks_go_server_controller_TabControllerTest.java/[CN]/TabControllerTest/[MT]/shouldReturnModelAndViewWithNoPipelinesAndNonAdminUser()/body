{
  final GoConfigService service=mock.mock(GoConfigService.class);
  mock.checking(new Expectations(){
{
      one(service).isPipelineEmpty();
      will(returnValue(true));
      one(service).isAdministrator(CaseInsensitiveString.str(Username.ANONYMOUS.getUsername()));
      will(returnValue(false));
    }
  }
);
  TabController controller=new TabController(service,localizer);
  ModelAndView modelAndView=controller.handleOldPipelineTab(new MockHttpServletRequest(),new MockHttpServletResponse());
  assertThat(modelAndView.getViewName(),is(TabController.TAB_PLACEHOLDER));
}

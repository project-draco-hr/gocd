{
  Users users=userDao.findNotificationSubscribingUsers();
  return users.filter(new Filter<User>(){
    public boolean matches(    User user){
      return (user.hasSubscribedFor(identifier.getPipelineName(),identifier.getStageName()) || user.hasSubscribedFor(identifier.getPipelineName(),GoConstants.ANY_STAGE) || user.hasSubscribedFor(GoConstants.ANY_PIPELINE,GoConstants.ANY_STAGE)) && securityService.hasViewPermissionForPipeline(user.getName(),identifier.getPipelineName());
    }
  }
);
}

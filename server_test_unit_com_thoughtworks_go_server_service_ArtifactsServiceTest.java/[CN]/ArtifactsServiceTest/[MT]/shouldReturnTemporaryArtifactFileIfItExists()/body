{
  JobIdentifier jobIdentifier=JobIdentifierMother.anyBuildIdentifier();
  File consoleFile=mock(File.class);
  when(chooser.temporaryConsoleFile(jobIdentifier)).thenReturn(consoleFile);
  when(consoleFile.exists()).thenReturn(true);
  ArtifactsService service=new ArtifactsService(resolverService,stageService,artifactsDirHolder,zipUtil,systemService,chooser);
  File file=service.temporaryConsoleFile(jobIdentifier);
  assertThat(file,is(consoleFile));
  verify(chooser).temporaryConsoleFile(jobIdentifier);
  verify(chooser,never()).findArtifact(any(LocatableEntity.class),anyString());
}

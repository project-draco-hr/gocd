{
  File addonsDirectory=createInAddonDir("some-addon-dir");
  FileSystemUtils.createFile("addon-1.JAR",addonsDirectory);
  FileSystemUtils.createFile("addon-2.jar",addonsDirectory);
  FileSystemUtils.createFile("addon-3.jAR",addonsDirectory);
  FileSystemUtils.createFile("some-file-which-does-not-end-with-dot-jar.txt",addonsDirectory);
  File oneAddonDirectory=createInAddonDir("one-addon-dir");
  FileSystemUtils.createFile("addon-1.jar",oneAddonDirectory);
  File noAddonDirectory=createInAddonDir("no-addon-dir");
  GoServer goServerWithMultipleAddons=new GoServer(setAddonsPathTo(addonsDirectory),new GoCipherSuite(sslSocketFactory),mock(GoWebXmlConfiguration.class));
  assertExtraClasspath(goServerWithMultipleAddons.webApp(),"test-addons/some-addon-dir/addon-1.JAR","test-addons/some-addon-dir/addon-2.jar","test-addons/some-addon-dir/addon-3.jAR");
  GoServer goServerWithOneAddon=new GoServer(setAddonsPathTo(oneAddonDirectory),new GoCipherSuite(sslSocketFactory),mock(GoWebXmlConfiguration.class));
  assertExtraClasspath(goServerWithOneAddon.webApp(),"test-addons/one-addon-dir/addon-1.jar");
  GoServer goServerWithNoAddon=new GoServer(setAddonsPathTo(noAddonDirectory),new GoCipherSuite(sslSocketFactory),mock(GoWebXmlConfiguration.class));
  assertThat(goServerWithNoAddon.webApp().getExtraClasspath(),is(""));
  GoServer goServerWithInaccessibleAddonDir=new GoServer(setAddonsPathTo(new File("non-existent-directory")),new GoCipherSuite(sslSocketFactory),mock(GoWebXmlConfiguration.class));
  assertThat(goServerWithInaccessibleAddonDir.webApp().getExtraClasspath(),is(""));
}

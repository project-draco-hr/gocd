{
  ScmMaterialConfig material=SetOneConfigRepo();
  PartialConfig part=new PartialConfig();
  when(plugin.Load(any(File.class),any(PartialConfigLoadContext.class))).thenReturn(part);
  repoConfigDataSource.onCheckoutComplete(material,folder,"7a8f");
  assertThat(partialConfig.lastPartials().length,is(1));
  assertThat(partialConfig.lastPartials()[0],is(part));
  ScmMaterialConfig othermaterial=new GitMaterialConfig("http://myother.git");
  cruiseConfig.setConfigRepos(new ConfigReposConfig(new ConfigRepoConfig(othermaterial,"myplugin")));
  configWatchList.onConfigChange(cruiseConfig);
  assertThat(partialConfig.lastPartials().length,is(0));
}

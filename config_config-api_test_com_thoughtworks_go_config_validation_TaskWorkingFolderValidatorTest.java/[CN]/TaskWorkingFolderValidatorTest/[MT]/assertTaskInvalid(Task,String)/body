{
  cruiseConfig.findJob("first","stage","job").addTask(task);
  try {
    new TaskWorkingFolderValidator().validate(cruiseConfig);
    fail("Should not allow absolute path for task");
  }
 catch (  Exception expected) {
    assertThat(expected.getMessage(),containsString("Task of job 'job' in stage 'stage' of pipeline 'first' has path '" + path + "' which is outside the working directory."));
  }
}

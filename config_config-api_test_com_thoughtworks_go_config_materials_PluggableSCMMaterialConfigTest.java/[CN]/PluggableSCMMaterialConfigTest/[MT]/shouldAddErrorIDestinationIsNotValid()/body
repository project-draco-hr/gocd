{
  PluggableSCMMaterialConfig pluggableSCMMaterialConfig=new PluggableSCMMaterialConfig(null,SCMMother.create("scm-id"),"/usr/home",null);
  pluggableSCMMaterialConfig.validateConcreteMaterial(new ConfigSaveValidationContext(null,null));
  assertThat(pluggableSCMMaterialConfig.errors().getAll().size(),is(1));
  assertThat(pluggableSCMMaterialConfig.errors().on(PluggableSCMMaterialConfig.FOLDER),is("Dest folder '/usr/home' is not valid. It must be a sub-directory of the working folder."));
  pluggableSCMMaterialConfig=new PluggableSCMMaterialConfig(null,SCMMother.create("scm-id"),".crap",null);
  pluggableSCMMaterialConfig.validateConcreteMaterial(new ConfigSaveValidationContext(null,null));
  assertThat(pluggableSCMMaterialConfig.errors().getAll().size(),is(1));
  assertThat(pluggableSCMMaterialConfig.errors().on(PluggableSCMMaterialConfig.FOLDER),is("Invalid directory name '.crap'. It should be a valid relative path."));
}

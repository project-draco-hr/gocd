{
  InputStream xsl=getClass().getResourceAsStream("/cruise/pipeline-graph-grddl.xsl");
  String rawPipelineXML="<pipeline name='RPNCalculator' counter='1' label='foo-1'>" + "    <link rel='self' href='http://localhost:8153/go/api/pipelines/RPNCalculator/1.xml'/>" + "    <scheduleTime>2010-01-04T16:02:27-08:00</scheduleTime>"+ "    <materials>"+ "        <material>"+ "            <modifications>"+ "                    <changeset changesetUri='http://cruise03:8153/go/api/materials/13/changeset/5c186460acca8e07972e7cf54935814005c38833.xml'>"+ "                        <user><![CDATA[sjin <sjin@thoughtworks.com>]]></user>"+ "                        <checkinTime>2010-01-04T16:01:21-08:00</checkinTime>"+ "                        <revision>938ab08dc5bd43884a106fe253dbf072b4968b5b</revision>"+ "                        <message><![CDATA[added a failing test]]></message>"+ "                        <file name='test/calculator/RPNIntegerCalculatorTest.java' action='modified' />"+ "                    </changeset>"+ "            </modifications>"+ "        </material>"+ "    </materials>"+ "    <stages>"+ "        <stage href='http://localhost:8153/go/api/stages/6.xml'/>"+ "    </stages>"+ "    <approvedBy><![CDATA[bigbird]]></approvedBy>"+ "</pipeline>";
  InputStream pipelineXML=new ByteArrayInputStream(rawPipelineXML.getBytes());
  GRDDLTransformer transformer=new GRDDLTransformer(transformerForXSLStream(xsl,"foo.xsl"),"foo.xsl");
  Graph transformedGraph=transformer.transform(pipelineXML,new InMemoryTempGraphFactory());
  String askIfPipelineWasTransformedWell="PREFIX cruise: <" + GoOntology.URI + "> "+ "PREFIX xsd: <http://www.w3.org/2001/XMLSchema#> "+ "ASK WHERE { "+ "?pipeline a cruise:Pipeline ; "+ "cruise:pipelineCounter \"1\"^^xsd:integer ; "+ "cruise:pipelineName \"RPNCalculator\"^^xsd:string ; "+ "}";
  assertAskIsTrue(transformedGraph,askIfPipelineWasTransformedWell);
}

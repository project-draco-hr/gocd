{
  try {
    RepositoryConfiguration repositoryConfiguration=packageAsRepositoryExtension.getRepositoryConfiguration(pluginDescriptor.id());
    if (repositoryConfiguration != null) {
      repositoryMetadataStore.addMetadataFor(pluginDescriptor.id(),new PackageConfigurations(repositoryConfiguration));
    }
    com.thoughtworks.go.plugin.api.material.packagerepository.PackageConfiguration packageConfiguration=packageAsRepositoryExtension.getPackageConfiguration(pluginDescriptor.id());
    if (packageConfiguration != null) {
      packageMetadataStore.addMetadataFor(pluginDescriptor.id(),new PackageConfigurations(packageConfiguration));
    }
  }
 catch (  GoPluginFrameworkException e) {
    LOGGER.error(String.format("Failed to fetch package metadata for plugin : %s",pluginDescriptor.id()),e);
  }
}

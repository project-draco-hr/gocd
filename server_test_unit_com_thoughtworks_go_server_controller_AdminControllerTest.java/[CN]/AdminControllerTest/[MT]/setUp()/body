{
  request=new MockHttpServletRequest();
  mockGoConfigService=mock(GoConfigService.class);
  mockAdminService=mock(AdminService.class);
  metricsProbeService=mock(MetricsProbeService.class);
  localizer=mock(Localizer.class);
  controller=new AdminController(mockGoConfigService,mockAdminService,localizer,metricsProbeService);
  userName=CaseInsensitiveString.str(Username.ANONYMOUS.getUsername());
  model.put("active","");
  model.put("current_tab","");
  when(mockAdminService.populateModel(model)).thenReturn(new HashMap<String,String>());
  when(mockGoConfigService.checkConfigFileValid()).thenReturn(GoConfigValidity.valid(ConfigSaveState.UPDATED));
}

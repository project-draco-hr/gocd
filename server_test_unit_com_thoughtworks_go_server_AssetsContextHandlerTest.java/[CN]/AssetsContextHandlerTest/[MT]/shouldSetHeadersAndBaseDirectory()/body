{
  SystemEnvironment systemEnvironment=mock(SystemEnvironment.class);
  WebAppContext webAppContext=mock(WebAppContext.class);
  when(webAppContext.getInitParameter("rails.root")).thenReturn("rails.root");
  when(webAppContext.getWebInf()).thenReturn(Resource.newResource("WEB-INF"));
  AssetsContextHandler handler=new AssetsContextHandler(systemEnvironment);
  handler.init(webAppContext);
  assertThat(handler.getHandler() instanceof ResourceHandler,is(true));
  ResourceHandler resourceHandler=(ResourceHandler)handler.getHandler();
  assertThat(resourceHandler.getCacheControl(),is("max-age=31536000,public"));
  assertThat(resourceHandler.getResourceBase(),is("file:" + new File("WEB-INF/rails.root/public/assets").getAbsolutePath()));
}

{
  SCMPropertyConfiguration scmPropertyConfiguration=new SCMPropertyConfiguration();
  scmPropertyConfiguration.add(new SCMProperty("k1").with(SCMProperty.REQUIRED,true).with(SCMProperty.PART_OF_IDENTITY,false));
  when(scmExtension.getSCMConfiguration(pluginDescriptor.id())).thenReturn(scmPropertyConfiguration);
  metadataLoader.fetchSCMMetaData(pluginDescriptor);
  SCMConfigurations metadata=SCMMetadataStore.getInstance().getMetadata(pluginDescriptor.id());
  assertThat(metadata.size(),is(1));
  SCMConfiguration scmConfiguration=metadata.get("k1");
  assertThat(scmConfiguration.getKey(),is("k1"));
  assertThat(scmConfiguration.getOption(SCMProperty.REQUIRED),is(true));
  assertThat(scmConfiguration.getOption(SCMProperty.PART_OF_IDENTITY),is(false));
}

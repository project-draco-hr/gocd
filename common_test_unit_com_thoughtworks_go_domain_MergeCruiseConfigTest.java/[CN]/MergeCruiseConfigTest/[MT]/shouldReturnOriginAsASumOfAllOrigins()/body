{
  BasicCruiseConfig mainCruiseConfig=new BasicCruiseConfig(pipelines);
  FileConfigOrigin fileOrigin=new FileConfigOrigin();
  mainCruiseConfig.setOrigins(fileOrigin);
  PartialConfig part=PartialConfigMother.withPipeline("pipe2");
  RepoConfigOrigin repoOrigin=new RepoConfigOrigin();
  part.setOrigin(repoOrigin);
  cruiseConfig=new BasicCruiseConfig(mainCruiseConfig,part);
  ConfigOrigin allOrigins=cruiseConfig.getOrigin();
  assertThat(allOrigins instanceof MergeConfigOrigin,is(true));
  MergeConfigOrigin mergeConfigOrigin=(MergeConfigOrigin)allOrigins;
  assertThat(mergeConfigOrigin.size(),is(2));
  assertThat(mergeConfigOrigin.contains(fileOrigin),is(true));
  assertThat(mergeConfigOrigin.contains(repoOrigin),is(true));
}

{
  WebAppContext wac=new WebAppContext();
  wac.setDefaultsDescriptor(GoWebXmlConfiguration.configuration(getWarFile()));
  wac.setConfigurationClasses(new String[]{WebInfConfiguration.class.getCanonicalName(),WebXmlConfiguration.class.getCanonicalName(),JettyWebXmlConfiguration.class.getCanonicalName()});
  wac.setContextPath(new SystemEnvironment().getWebappContextPath());
  wac.setWar(getWarFile());
  wac.setParentLoaderPriority(new SystemEnvironment().getParentLoaderPriority());
  setCookieExpireIn2Weeks(wac);
  addExtraJarsToClasspath(wac);
  addJRubyContextInitParams(wac);
  addStopServlet(wac);
  return wac;
}

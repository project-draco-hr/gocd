{
  Ruby runtime=context.getRuntime();
  if (this.vSource != null) {
    throw runtime.newTypeError("already initialized instance");
  }
  OptionsReader opts=new OptionsReader(context,args.length > 1 ? args[1] : null);
  this.maxNesting=opts.getInt("max_nesting",DEFAULT_MAX_NESTING);
  this.allowNaN=opts.getBool("allow_nan",false);
  this.symbolizeNames=opts.getBool("symbolize_names",false);
  this.quirksMode=opts.getBool("quirks_mode",false);
  this.createId=opts.getString("create_id",getCreateId(context));
  this.createAdditions=opts.getBool("create_additions",false);
  this.objectClass=opts.getClass("object_class",runtime.getHash());
  this.arrayClass=opts.getClass("array_class",runtime.getArray());
  this.match_string=opts.getHash("match_string");
  this.vSource=args[0].convertToString();
  if (!quirksMode)   this.vSource=convertEncoding(context,vSource);
  return this;
}

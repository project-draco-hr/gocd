{
  PackageMaterial material=new PackageMaterial();
  PackageRepository repository=PackageRepositoryMother.create("repo-id","repo-name","pluginid","version",new Configuration(ConfigurationPropertyMother.create("k1",false,"v1")));
  material.setPackageDefinition(PackageDefinitionMother.create("p-id","package-name",new Configuration(ConfigurationPropertyMother.create("k2",false,"v2")),repository));
  JsonMap jsonMap=new JsonMap();
  material.toJson(jsonMap,new PackageMaterialRevision("rev123",new Date()));
  assertThat(jsonMap.hasEntry("scmType","Package"),is(true));
  assertThat(jsonMap.hasEntry("materialName","repo-name:package-name"),is(true));
  assertThat(jsonMap.hasEntry("action","Modified"),is(true));
  assertThat(jsonMap.hasEntry("location",material.getUriForDisplay()),is(true));
}

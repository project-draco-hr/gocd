{
  File artifact=artifactsService.temporaryArtifactDirectory(jobIdentifier,filePath);
  String lines=IOUtils.toString(inputStream);
  boolean updated=artifactsService.updateConsoleLog(artifact,IOUtils.toInputStream(lines),ArtifactsService.LineListener.NO_OP_LINE_LISTENER);
  if (lines.contains("Job completed")) {
    artifactsService.moveAllArtifacts(jobIdentifier);
  }
  if (updated) {
    consoleActivityMonitor.consoleUpdatedFor(jobIdentifier);
    return FileModelAndView.fileAppended(filePath);
  }
 else {
    return FileModelAndView.errorSavingFile(filePath);
  }
}
